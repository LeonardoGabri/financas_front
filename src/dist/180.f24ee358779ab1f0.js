"use strict";(self.webpackChunkfront_financas=self.webpackChunkfront_financas||[]).push([[180],{4180:(A,u,a)=>{a.r(u),a.d(u,{ResponsavelFormModule:()=>R});var f=a(6895),n=a(433),l=a(8654),p=a(4229),m=a(1886),h=a(1147),v=a(1037),e=a(4650),d=a(1481),g=a(2210);const b=[{path:"",component:(()=>{class o{constructor(t,i,s,r,c,S,P){this.formBuilder=t,this.route=i,this.router=s,this.poDialogService=r,this.poNotification=c,this.titleService=S,this.responsavelApiService=P,this.nomePrincipal=m.f8.label,this.navegacao={items:[{label:this.nomePrincipal,action:this.verificarFormulario.bind(this)}]}}ngOnInit(){this.criarFormulario(),this.route.params.subscribe(t=>{t&&t.id?(this.nomePagina=(0,v.nf)(t.id).label,this.responsavelApiService.buscarResponsavelPorId(t.id).subscribe({next:i=>{i&&(this.nomePagina=(0,v.nf)(t.id).label,this.formulario.patchValue(i))},error:({error:i})=>{this.poNotification.error(i?.title?i.title:"Erro no servidor"),console.error(i)},complete:()=>{this.navegacao.items.push({label:this.nomePagina}),this.titleService.setTitle(`${this.nomePagina} - Motor Fiscal`)}})):(this.nomePagina=v.vE.label,this.navegacao.items.push({label:this.nomePagina}),this.titleService.setTitle(`${this.nomePagina} - Motor Fiscal`))})}criarFormulario(t){this.formulario=this.formBuilder.group({id:[t?.id],ativo:[null==t?.ativo||t?.ativo],nome:[t?.nome],descricao:[t?.descricao]})}verificarFormulario(t,i=[m.f8.link],s=this.formulario){(0,h.TR)(i,s,this.router,this.poDialogService)}cancelar(){this.verificarFormulario()}salvar(){if(this.formulario.markAsPristine(),this.formulario.valid){let t=this.formulario.getRawValue(),i=t.id;delete t.id,(i?this.responsavelApiService.editarResponsavel(i,t):this.responsavelApiService.salvarResponsavel(t)).subscribe({next:r=>{r&&(this.poNotification.success("Salvo com sucesso"),this.router.navigate([m.f8.link]))},error:({error:r})=>{let c={message:r?.title?r.title:"Erro no servidor",action:()=>{},actionLabel:""};r?.detail&&(c.action=()=>{this.poDialogService.alert({title:r?.title,message:r?.detail,ok:()=>!0})},c.actionLabel="Detalhes"),this.poNotification.error(c),console.error(r)}})}else(0,h.DD)(this.formulario),this.poNotification.error("Erro no formul\xe1rio")}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(n.qu),e.Y36(p.gz),e.Y36(p.F0),e.Y36(l.Aw7),e.Y36(l.fRI),e.Y36(d.Dx),e.Y36(g.s))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-responsavel-form"]],decls:12,vars:3,consts:[[3,"p-title","p-breadcrumb","p-cancel","p-save"],[3,"formGroup"],[1,"po-row"],["formControlName","nome","p-label","Nome","p-clean","true","p-required","true",1,"po-md-10"],[1,"po-md-2",2,"display","flex","flex-direction","row-reverse"],["formControlName","ativo","p-label","Situa\xe7\xe3o","p-label-on","Ativo","p-label-off","Inativo","p-required","true",2,"width","155px"],["formControlName","descricao","p-label","Descri\xe7\xe3o",1,"po-md-12"]],template:function(i,s){1&i&&(e.TgZ(0,"po-page-edit",0),e.NdJ("p-cancel",function(){return s.cancelar()})("p-save",function(){return s.salvar()}),e.TgZ(1,"po-container")(2,"form",1)(3,"div",2),e._UZ(4,"po-input",3),e.TgZ(5,"div",4),e._UZ(6,"po-switch",5),e.qZA()(),e.TgZ(7,"div",2),e._UZ(8,"po-textarea",6),e.qZA()(),e._UZ(9,"br")(10,"br")(11,"br"),e.qZA()()),2&i&&(e.Q6J("p-title",s.nomePagina)("p-breadcrumb",s.navegacao),e.xp6(2),e.Q6J("formGroup",s.formulario))},dependencies:[l.PJf,l.xxV,l.gJm,l.nrg,l.k4n,n._Y,n.JJ,n.JL,n.sg,n.u],encapsulation:2})}return o})()}];let F=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(b),p.Bz]})}return o})(),R=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[f.ez,l.JBz,n.UX,n.u5,F]})}return o})()}}]);